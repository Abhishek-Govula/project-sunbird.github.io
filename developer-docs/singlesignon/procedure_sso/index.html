<!DOCTYPE html>
<html>
	<head>
	<base id="baseURL" href="/" />
<script>
	// Dynamic Base URL
	function getBase(){
		excludedSites = ["127.0.0.1:4000", "www.sunbird.org"];
		baseURL = document.getElementById('baseURL');
		if (excludedSites.indexOf(window.location.host) > -1){
			baseURL.href="/";
		} else {
			baseURL.href="/releases/release.1.2/";
		}
	}
	getBase();
</script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=10, user-scalable=yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-touch-fullscreen" content="yes" />
<link rel="icon" type="image/png" href="img/favicon/favicon-16x16.png" sizes="16x16">
<meta name="msapplication-TileColor" content="#65d3f7">
<meta name="msapplication-TileImage" content="img/favicon/mstile-150x150.png">

<title>Sunbird Procedure to Onboard Organizations</title>
<meta name="description" content="Sunbird Site FIve step procedure to onboard organizations on Sunbird"/>

<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="pragma" content="no-cache" />
<meta name="last-modified" content="2018-01-08 13:13:45 +0530">
<meta http-equiv="Expires" content="600" />

<!--Build Details-->
<meta name="buildVersion" content="release.1.2" />
<meta name="buildNo" content="672" />
<!--/Build Details-->

<!-- CDN's-->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,600,700" >
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" >
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<!-- /CDN's-->

<link rel="stylesheet" href="css/owl/owl.carousel.min.css?08012018"  />
<link rel="stylesheet" href="css/style.css?08012018"  />
<script type="text/javascript" src="js/bootstrap.min.js?08012018"></script>
<script type="text/javascript" src="js/owl.carousel.min.js?08012018"></script>
<script type="text/javascript" src="js/jquery.tocLight.js?08012018"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106552125-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-106552125-1');
</script>

	
		<meta name="robots" content="index, follow">
	
  </head>
  <body id="body">
  <div class="container inner container-height docs">
    <header class="logo-container">
      <div class="logo">
        <a href="index.html">
          <img src="img/sunbird-logo.png" alt="Sunbird docs" title="Sunbird docs">
        </a>
      </div>
      <button type="button" class="dropdown-toggle collapsed" id="dropdown-trigger" data-toggle="collapse" data-target="#mobile-dropdown" aria-expanded="false">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </button>
    </header>
    <nav class="sidebar-container" id="mobile-dropdown">
      <div class="inner__sidebar">
        <div id="">
	
		<div class="search-cover">
	<form method="get" action="https://www.google.com/search" target="_blank">
		<input type="text" value="" name="q" placeholder="Search"/ class="search-input" title="Enter keyword to search">
		<input type="hidden" value="en" name="hl" />
		<input type="hidden" name="sitesearch" value="http://www.sunbird.org" />
		<input type="hidden" value="lang_en" name="lr" />
		<button type="submit" onclick="submit()" class="search-btn" title="Search">
			<i class="fa fa-search"></i>
		</button>
	</form>
</div>

	
	<div class="sidebar-wrapper developer-docs-singlesignon">
		<div class="" >
			<a href="architecture/">
				<h4 class="sidebar-group-title">Architecture</h4>
			</a>
			<ul class="sidebar-group architecture">
				<li>
					<a href="architecture/overview/">Overview</a>
				</li>
				<li>
					<a href="architecture/design/">Design</a>
				</li>
				<li>
					<div class="">
						<a href="architecture/views/elementryview/">Views</a>
						<ul class="sidebar-group">
							<li>
								<a href="architecture/views/logical/">Logical View</a>
							</li>
							<li>
								<a href="architecture/views/physical/">Physical View</a>
							</li>
							<li>
								<a href="architecture/views/conceptual/">Conceptual View</a>
							</li>
							<li>
								<a href="architecture/views/deployment/">Deployment View</a>
							</li>
						</ul>
					</div>
				</li>
				<li>
					<a href="architecture/usecase/">Use Cases</a>
				</li>
			</ul>
			<a href="features-documentation/">
				<h4 class="sidebar-group-title">Product Features</h4>
			</a>
			<ul class="sidebar-group features-documentation" >
				<li>
					<a href="features-documentation/onboarding/">Onboarding</a>
				</li>
				<li>
					<a href="features-documentation/login/">Login</a>
				</li>
				<li>
					<a href="features-documentation/register_org/">Register Organizations</a>
				</li>
				<li>
					<a href="features-documentation/register_user/">Register Users</a>
				</li>
				<li>
					<a href="features-documentation/userrolepermission/">User Roles and Permissions</a>
				</li>
				<li>
					<div class="">
						<ul class="sidebar-group">
							<li>
								<a href="features-documentation/user_type/">Types of Users</a>
							</li>
							<li>
								<a href="features-documentation/userprofile/">User Profile</a>
							</li>
							<li>
								<a href="features-documentation/workspace/">Workspace</a>
							</li>
						</ul>
					</div>
				</li>
				<li>
					<a href="features-documentation/coursetraining/">Courses</a>
				</li>
				<li>
					<a href="features-documentation/library/">Library</a>
				</li>
				<li>
					<a href="features-documentation/contentlifecycle/">Content Lifecycle</a>
				</li>
				<li>
					<a href="features-documentation/contentcreation/">Content Creation</a>
				</li>
				<!--<li>
				<li>
					<a href="features-documentation/contenteditor/">Content Editor</a>
				</li>
                                </li>-->
				<!--<li>
					<a href="features-documentation/consumption/">Consume Study Material</a>
				</li>-->
				</li>
				<li>
					<div class="">
						<a href="features-documentation/guidelines/" >Guidelines</a>
						<ul class="sidebar-group">
							<li>
								<a href="features-documentation/intellectualproperty/">Intellectual Property</a>
							</li>
						</ul>
					</div>
				</li>
				<!--<li>
					<a href="features-documentation/reportinganalytics/">Reporting and Analytics</a>
				</li>-->
				<li>
					<a href="features-documentation/collaborationpartnership/">Collaboration and Partnership</a>
				</li>
				</ul>
				<a href="developer-docs/">
					<h4 class="sidebar-group-title">Developer Documentation</h4>
				</a>
				<ul class="sidebar-group developer-docs">
					<li>
						<a href="developer-docs/getting_started/">Getting Started with Sunbird</a>
					</li>
					<li>
						<a href="developer-docs/installation/">Installation Overview</a>
					</li>
					<!--<li>
						<a href="developer-docs/hosting_sunbird/">Hosting Sunbird</a>
					</li>-->
					<li>
						<a  href="developer-docs/installation/installing_sunbirdon_laptop/">Install Sunbird on Laptop</a>
					</li>
					<li>
						<div class="">
							<a href="developer-docs/installation/medium_scale_deploy/">Medium Scale Deployment</a>
							<ul class="sidebar-group">
								<li>
									<a href="developer-docs/installation/provisioning_servers/">Provisioning Servers</a>
								</li>
								<li>
									<a href="developer-docs/installation/setup_db/">Setup Databases</a>
								</li>
								<li>
									<a href="developer-docs/installation/deploy_sb_services/">Deploying Sunbird Services</a>
								</li>
								<li>
									<a href="developer-docs/installation/keycloak_realm_configuration/">Configure Keycloak</a>
								</li>
								<li>
									<a href="developer-docs/installation/cust_sunbird/">Customizing Assets</a>
								</li>
								<li>
									<a href="developer-docs/installation/check_installation/">Check Installation</a>
								</li>
								<!--<li>
									<a href="developer-docs/installation/keycloak_sms_authenticator/">Authentication</a>
								</li>-->
							</ul>
						</div>
					</li>
					<li>
						<div class="">
							<a href="developer-docs/singlesignon/overview_sso/">Onboarding and Single Sign On</a>
							<ul class="sidebar-group">
								<li> 
									<a href="developer-docs/singlesignon/protocol_sso/">Protocol</a>
								</li>
								<li>
									<a href="developer-docs/singlesignon/tokens_sso/">Tokens</a>
								</li>
								<li>
									<a href="developer-docs/singlesignon/procedure_sso/">Procedure</a>
								</li>
								<li>
									<a href="developer-docs/singlesignon/api_info_sso/">API Information</a>
								</li>
								<li>
									<a href="developer-docs/singlesignon/masterexchange_sso/">Master Data Exchange</a>
								</li>
								<li>
									<a href="developer-docs/singlesignon/commonerrors_sso/">Common errors and solutions</a>
								</li>
							</ul>
						</div>
					</li>
					<li>
						<a href="developer-docs/installation/install_mobile_setup/">Mobile App Installation</a>
					</li>
					<!--<li>
						<div class="">
							<a class="sidebar-group-title" href="developer-docs/extending_sunbird/">Extending Sunbird</a>
						</div>
					</li>
					<li>
						<div class="">
							<a class="sidebar-group-title" href="developer-docs/customize_sunbird/">Customizing Sunbird</a>
						</div>
					</li>-->
					<li>
						<div class="">
							<a  href="apis/">API References</a>
							<ul class="sidebar-group">
								<li>
									<a href="apis/bulkupload/" target="_blank">Bulk Upload Service APIs</a>
								</li>
								<li>
									<a href="apis/content/" target="_blank">Content APIs</a>
								</li>
								<li>
									<a href="apis/coursebatchmanapi/" target="_blank">Course Batch Management APIs</a>
								</li>
								<li>
									<a href="apis/datasyncapi/" target="_blank">Data Sync APIs</a>
								</li>
								<li>
									<a href="apis/metricsapi/" target="_blank">Metrics APIs</a>
								</li>
								<li>
									<a href="apis/notificationapi/" target="_blank">Notification APIs</a>
								</li>
								<li>
									<a href="apis/orgapi/" target="_blank">Organisation Management APIs</a>
								</li>
								<li>
									<a href="apis/userapi/" target="_blank">User APIs</a>
								</li>
							</ul>
						</div>
					</li>
					<li>
					<!--<li>
						<div class="">
							<a href="developer-docs/telemetry/overview">Telemetry</a>
							<ul class="sidebar-group">
								<li> 
									<a href="developer-docs/telemetry/specification/">Telemetry Specifications</a>
								</li>
								<li>
									<a href="developer-docs/telemetry/sending_telemetry/">Sending Telemetry</a>
								</li>
								<li>
									<a href="developer-docs/telemetry/consuming_telemetry/">Consuming Telemetry Data</a>
								</li>						
							</ul>
						</div>
					</li>
					</li>-->	
					<li>
						<a href="developer-docs/troubleshooting/">Troubleshooting</a>
					</li>
				</div>
			</li>
		</ul>
		<a href="faqs/">
			<h4 class="sidebar-group-title">Frequently asked questions</h4>
		</a>
		<ul class="sidebar-group faqs" >
			<li>
				<a href="faqs/audience/">Audience</a>
			</li>
			<li>
				<a href="faqs/content_format/">Content Format</a>
			</li>
			<li>
				<a href="faqs/content_repo/">Content Repositories</a>
			</li>
			<li>
				<a href="faqs/contentreviews/">Content Review</a>
			</li>
			<li>
				<a href="faqs/content_types/">Content Types</a>
			</li>
			<li>
				<a href="faqs/content_upload/">Content Upload</a>
			</li>
			<li>
				<a href="faqs/feature/">Features</a>
			</li>
			<li>
				<a href="faqs/fixerrors/">Fix Errors</a>
			</li>
			<li>
				<a href="faqs/helpsupport/">Help Support</a>
			</li>
			<li>
				<a href="faqs/intellectual_propertylicensesstandards/">Intellectual Property Licenses Standards</a>
			</li>
			<li>
				<a href="faqs/registrationenrolment/">Registration and Enrollment</a>
			</li>
			<li>
				<a href="faqs/signin/">Sign In</a>
			</li>
			<li>
				<a href="faqs/taxonomymetadataframework/">Taxonomy Meta Data Framework</a>
			</li>
			<li>
				<a href="faqs/user_rightspermissions/">Users Rights and Permission</a>
			</li>
		</ul>
		<a href="glossary/">
			<h4 class="sidebar-group-title">Glossary</h4>
		</a>
	</div>
</div>
<script>
$("a[href$='developer-docs/singlesignon/procedure_sso/']").addClass("sidebar-link-selected");
</script>

      </div>
    </nav>
    <div class="content">
      <div class="inner__content header" id="heading">
        <h1>Procedure </h1>
      </div>

      <div id="main-content" class="inner__content">
			<p class="edit-para text-right">
				<span>
			<a target="_blank" class="contribute" href="contributions/contribution_guidelines">
				  <i class="fa fa-book" aria-hidden="true"></i> <i>Contribution Guidelines</i>
			  </a> &nbsp;&nbsp;
			  
			 <a target="_blank"  title="Edit this page"class="" href="https://github.com/project-sunbird/project-sunbird.github.io/edit/dev/pages/developer-docs/singlesignon/procedure_sso.md">
				  <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit
			  </a> 
			  | 
			  <a target="_blank" href="https://github.com/project-sunbird/project-sunbird.github.io/issues" title="Report issue">
				  <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
				  Report
			  </a>
			  </span>
			</p>
          <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
            <span class="toctoggle">[<a id="toctogglelink" class="internal" href="#">hide</a>]</span>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#procedure-to-onboard-organizations"><span class="tocnumber">1 .</span> <span class="toctext">Procedure to Onboard Organizations</span></a>
              <ul>
                <li class="toc_level-2 toc_section-2">
                  <a href="#generating-rsa-private-and-public-key-pair"><span class="tocnumber">1.1 .</span> <span class="toctext">Generating RSA Private and Public Key Pair</span></a>
                </li>
                <li class="toc_level-2 toc_section-3">
                  <a href="#accessing-the-apis-using-token"><span class="tocnumber">1.2 .</span> <span class="toctext">Accessing the APIs Using Token</span></a>
                </li>
                <li class="toc_level-2 toc_section-4">
                  <a href="#onboarding-new-tenant-organization-on-sunbird"><span class="tocnumber">1.3 .</span> <span class="toctext">Onboarding New Tenant Organization on Sunbird</span></a>
                </li>
                <li class="toc_level-2 toc_section-5">
                  <a href="#custom-homepage--logo-for-tenants"><span class="tocnumber">1.4 .</span> <span class="toctext">Custom Homepage &amp; Logo for Tenants</span></a>
                </li>
                <li class="toc_level-2 toc_section-6">
                  <a href="#sign-in-link-from-custom-home-page"><span class="tocnumber">1.5 .</span> <span class="toctext">Sign In link from Custom Home Page</span></a>
                </li>
              </ul>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h2 id="procedure-to-onboard-organizations">Procedure to Onboard Organizations</h2>

<ol>
  <li>
    <p>Generate RSA private and public key pair</p>
  </li>
  <li>
    <p>Get public key registered in production</p>
  </li>
  <li>
    <p>Create tenant organization</p>
  </li>
  <li>
    <p>Create organizations, and users, and register</p>
  </li>
  <li>
    <p>Single-Sign-On with Sunbird</p>
  </li>
</ol>

<h3 id="generating-rsa-private-and-public-key-pair">Generating RSA Private and Public Key Pair</h3>

<p>To create a new pair of public/private keys, run the following command:</p>

<p>$ openssl genrsa -out private.pem 2048</p>

<p>This private key must be kept secret. To generate a public key corresponding to the private key, execute:</p>

<p>$ openssl rsa -in private.pem -outform PEM -pubout -out public.pem</p>

<p>If you run these commands, the public key will be written in public.pem, while the private key will be written in private.pem</p>

<h3 id="accessing-the-apis-using-token">Accessing the APIs Using Token</h3>

<p>The token generated should be sent in Authorization header of the request with value bearer <token>. Example curl request</token></p>

<p>curl -H “Authorization: Bearer <token>" https://staging.ntp.net.in/api/echo/hello</token></p>

<h3 id="onboarding-new-tenant-organization-on-sunbird">Onboarding New Tenant Organization on Sunbird</h3>

<p>Sunbird allows creation and configuration of multiple tenant organizations in a single instance:</p>

<ul>
  <li>
    <p>Every tenant organization has a unique channel, i.e. all the activities by users belonging to that tenant organization are tagged by the tenant’s channel id (activities include content creation, content consumption, etc)</p>
  </li>
  <li>
    <p>Tenant organizations have the option to setup a custom home page and configure the logo to be displayed for users who belong to the tenant</p>
  </li>
  <li>
    <p>Tenant organizations can create multiple sub organizations and add users to those organizations</p>
  </li>
</ul>

<p>Example: Each state is a tenant on Sunbird and all schools/institutes in that state are created as sub-organizations under that tenant organization.</p>

<h3 id="custom-homepage--logo-for-tenants">Custom Homepage &amp; Logo for Tenants</h3>

<p>Sunbird supports over-riding of default home page and configuring a custom home page and logo for each on-boarded tenant. The tenant organization should provide package containing the following files for customising the home page and logo:</p>

<ul>
  <li>
    <p>The home page html file should be named index.html. All the dependent files (like js, css and images) used by the home page should be within the package and referred using relative paths from the “index.html”.</p>
  </li>
  <li>
    <p>Logo of the tenant which should be with the name “logo.png”</p>
  </li>
  <li>
    <p>Optionally, tenants can also configure the following:</p>

    <ul>
      <li>
        <p>an icon (to be displayed as browser favicon) which should be named as “favicon.ico”</p>
      </li>
      <li>
        <p>a poster image (to be used as flash screen in the mobile app) which should be named as “poster.png”</p>
      </li>
    </ul>
  </li>
</ul>

<p>All the files should be placed in a folder. The folder name should be the same as the channel value of the tenant organization.</p>

<h3 id="sign-in-link-from-custom-home-page">Sign In link from Custom Home Page</h3>

<p>Following link needs to be added at an appropriate place in the custom home page to invoke Sunbird portal login:
<a href="/private/index" title="Sign In"><span>Sign In</span></a></p>


          
          <hr />
          
          <p class="edit-para text-right">
			<!--<a target="_blank"  class="" href="">
				  <i>Contribution Guidelines</i>
			  </a> &nbsp;&nbsp;-->
			<a target="_blank" href="https://github.com/project-sunbird/project-sunbird.github.io/edit/dev/pages/developer-docs/singlesignon/procedure_sso.md" title="Fix this page">
				<i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</a> |
			<a target="_blank" href="https://github.com/project-sunbird/project-sunbird.github.io/issues" title="Report issue">
				<i class="fa fa-exclamation-circle" aria-hidden="true"></i> Report</a>
		  </p>
		  <a href="developer-docs/singlesignon/procedure_sso/#heading" class="scrollup"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></a>
          
      </div>
    </div>
    <div class="page-footer">
		<footer class="footer">
	<div class="footer__top">
		<div class="container">
			<div class="row">
				
			<div class="col-md-4 col-sm-12">
			</div>
			
			<div class="col-md-2 col-sm-6 ">
				<ul>
					<li><a href="about/">About Sunbird</a></li>
					<li><a href="contact/">Contact Us</a></li>
					<li><a href="privacy-policy/">Privacy Policy</a></li>
				</ul>
			</div>
			
			<div class="col-md-2 col-sm-6 sideline">
				<ul>
					<li><a href="docs/">Documentation</a></li>
					<li><a href="features/">Features</a></li>
				</ul>
			</div>

			<div class="col-md-2 col-sm-12">
			</div>
			
		</div>
	</div>
</footer>

	</div>
  </div>
  <script type="text/javascript">
	//TOC Toggle
    $(function() {
        $.toc.clickHideButton();
    });
    //Scroll to top
    $(document).ready(function () {
		$(".content").scroll(function () {
			if ($(this).scrollTop() > 250) {
				$('.scrollup').fadeIn();
			} else {
				$('.scrollup').fadeOut();
			}
		});
	});
	$('#toc a').each(function(){
		var url = this.href.replace(baseURL.href, "");
		this.href = 'developer-docs/singlesignon/procedure_sso/' + url;
    })
  </script>
  </body>
</html>
