<h2 id="overview">Overview</h2>

<p>This document helps you to enable onboarding announcements feature on Sunbird. For setting up announcement feature, prerequisites must be fullfilled.</p>

<p><strong>Who can use:</strong></p>

<p>To be able to follow the process of onboarding announcements feature, a user must have:</p>

<ul>
  <li>Access to Organization APIs and authorization to use it.</li>
  <li>Access to Locations APIs and authorization to use it.</li>
  <li>Access to Create Object API and authorization to use it.</li>
  <li>Admin access to Sunbird portal.</li>
</ul>

<p><strong>Note:</strong> User should be comfortable requesting for required APIs using Postman or similar tool.</p>

<h2 id="pre-requisites">Pre-requisites</h2>

<ul>
  <li>
    <p><strong>Users</strong> are associated with <strong>Organisations</strong>, to be able to receive announcements.</p>
  </li>
  <li>
    <p><strong>Locations</strong> as an individual entity must be created. Refer <a href="http://www.sunbird.org/apis/geolocationapi/" target="_blank">Geo Location APIs</a></p>
  </li>
</ul>

<p><strong>Note:</strong> Anouncements feature do not support location hierarchy. While targeting an announcement, all locations are available in a flat structure irrespective of location type in database.</p>

<ul>
  <li><strong>Organisations</strong> must be associated to their respective <strong>Locations</strong>. To establish corelation between the organization with their respective location follow the steps below, to use location inside an organization:</li>
</ul>

<ol>
  <li>Create <strong>Location</strong> in Sunbird. To create location, refer <a href="http://www.sunbird.org/apis/geolocationapi/" target="_blank">Geo Location APIs</a></li>
  <li>Once location is created, it will provide <strong>locationId</strong></li>
  <li>Use same locationId while creating or updating organization. Refer <a href="http://www.sunbird.org/apis/orgapi/" target="_blank">Organization Management APIs</a></li>
</ol>

<h2 id="creating-announcement-types">Creating Announcement types</h2>

<p>Announcements are categorised into different types example, orders, circular, holidays, news etc. As a prerequisite, there must be atleast one announcement type available in the system so that you can send an announcement. The announcement types can be configured as per the requirement of the root organization.</p>

<p>To create announcement types, refer <a href="http://www.sunbird.org/apis/objectapi/" target="_blank">Object APIs</a></p>

<p>Example of a typical request object to create announcement type is as follows:</p>

<pre>
"request":{

        "entityName":"announcementtype",

        "indexed":true,

        "payload" : {

        	"id": "{UUID}",

        	"rootorgid": "{Tenant ID}",

            "name": "{String}",

            "status": "active",

            "createddate": "{timestamp}"

        }

}
</pre>

<p><strong>Explanation:</strong></p>

<p><strong>id</strong>: Generate a standard UUID using any reliable tool. For better understanding on UUID refer, <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">https://en.wikipedia.org/wiki/Universally_unique_identifier</a></p>

<p><strong>rootorgid</strong>: The unique ID of the tenant (root organization) for which the particular announcement type is to be created.</p>

<p><strong>name</strong>: Name of the announcement type.</p>

<p><strong>status</strong>: Status must be <code>active</code> for the announcement type to be available for use.</p>

<p><strong>createddate</strong>: Created Date must follow the format <code>yyyy-MM-dd HH:mm:ss:SSSZZZZ</code> eg: <code>2017-12-08 10:54:40:573+0000</code></p>

<h2 id="assigning-roles-to-users">Assigning Roles to User(s)</h2>

<p>To send announcements, the user must be assigned the role of an announcement sender.To assign this role:</p>

<table>
  <tr>
    <th style="width:35%;">Step</th>
    <th style="width:65%;">Screen</th>
  </tr>
  <tr>
      <td>1. You are logged in with registered Admin credential in the portal <br />2. You are currently on <b>Home</b> page. You have clicked the <b>Profile</b> tab </td>
      <td><img src="pages/features-documentation/images/announcement/assignuserrole1.png" /></td>
  </tr>
  <tr>
    <td>1. Search for users, to whom you want to assign the role <br />2. Click <b>Edit</b> to assign the role</td>
    <td><img src="pages/features-documentation/images/announcement/assignuserrole2.png" /></td>
  </tr>
  <tr>
    <td>1. Select <b>Announcement Sender</b> <br />2. Click <b>Update</b> to assign the role</td>
    <td><img src="pages/features-documentation/images/announcement/assignuserrole3.png" /></td>
  </tr>
</table>

<p>To known more about the steps to use the functional features of announcements, refer <a href="http://www.sunbird.org/features-documentation/announcement/" target="_blank">Announcement</a> section on the Sunbird website.</p>

