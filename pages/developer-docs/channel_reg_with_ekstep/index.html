<h2 id="overview">Overview</h2>

<ul>
  <li>This section guides you with the necessary steps for registering a channel with Ekstep. Since, registering a channel serves as a pre-requisite for creation of a root Organization</li>
  <li>The following sections provide detailed instructions as how you can register a channel with Ekstep?</li>
  <li>You must follow the steps in a sequential manner</li>
</ul>

<h2 id="purpose">Purpose</h2>

<p>The fundamental purpose of performing this activity is to enable each channel (Root Orgs) to outline and define channel specific curriculum framework. Based on the channel value, provided at the time of registering a channel with Ekstep. Specific set of curriculum content framework will load.</p>

<h2 id="design-principles">Design Principles</h2>

<ol>
  <li>Registering a channel with Ekstep, while creating a Root organization in Sunbird.</li>
  <li>As a pre-requisite for creation of an organization, the channel registration process should be successful</li>
  <li>Channel registration is applicable only for root org creation</li>
</ol>

<h2 id="registering-and-checking-status-of-channels">Registering and Checking status of channels</h2>

<p>The following is the process which details about registering a channel followed by checking the status of the channels:</p>

<h3 id="registering-a-channel">Registering a Channel</h3>

<ol>
  <li>A scheduler job will run to find all the missing channels not registered with Ekstep</li>
  <li>Once a few missing unregistered channels are found, the registering channel job is invoked to start registering these channels</li>
  <li>Successful registration of a channel sets a flag to “true” in system-settings table</li>
</ol>

<h3 id="checking-the-status-of-channels">Checking the status of Channels</h3>

<p>While the server starts up:</p>

<ol>
  <li>As a routine, the scheduler always checks the sync status from system-settings table by checking the value of “Flag”</li>
  <li>If sync status is set to “false,” it will invoke the process to find the missing channels</li>
  <li>Register the hannels with Ekstep by following the steps in section [Registering a channel] ()<!-- this link will be generated once the page goes on production--></li>
  <li>Update the “Flag” key in system-settings table</li>
</ol>

<p>The process for registering the channel uses the Channel API. Here is the sample payload for:</p>

<ol>
  <li>Channel registration</li>
  <li>List Channels</li>
</ol>

<h2 id="channel-registration-api">Channel Registration API</h2>

<p>The request payload:</p>

<p>URL : /channel/v3/create</p>

<p>Method : POST</p>

<p>RequestBody :</p>

<pre>

{
   "request": {
      "channel":{
        "code": "012424880506855424168",  // code is hashTagId value in sunbird
        "name": "cltindia",               // name is channel value in sunbird
        "description": "CLT India"        //description of organization
      }
    }
}

</pre>

<p>The response Payload:</p>

<pre>

Response :

{
    "id": "ekstep.learning.channel.create",
    "ver": "1.0",
    "ts": "2018-02-12T11:39:27ZZ",
    "params": {
        "resmsgid": "a3449214-d429-4c25-96fb-9c1edb4b5201",
        "msgid": null,
        "err": null,
        "status": "successful",
        "errmsg": null
    },
    "responseCode": "OK",
    "result": {
        "node_id": "012424880506855424168",
        "versionKey": "1518435567708"
    }
}

</pre>

<h2 id="get-channel-list-api">Get channel list API</h2>

<p>The request payload:</p>

<p>URL : /channel/v3/list</p>

<p>Method : POST</p>

<pre>

RequestBody :

    {
      "request": { }
    }

</pre>

<p>The Response payload:</p>

<pre>

Response :

{
    "id": "ekstep.learning.channel.list",
    "ver": "1.0",
    "ts": "2018-02-13T05:54:38ZZ",
    "params": {
        "resmsgid": "fcd5e23e-db98-4c05-b162-4b11f1449f8e",
        "msgid": null,
        "err": null,
        "status": null,
        "errmsg": null
    },
    "responseCode": "OK",
    "result": {
        "channels": [
            {
                "identifier": "channel",
                "code": "channel",
                "frameworks": [],
                "consumerId": "62e15662-bb09-439f-86e2-d65bd84f3c23",
                "channel": "in.ekstep",
                "description": "",
                "createdOn": "2017-12-20T06:20:55.096+0000",
                "versionKey": "1513750855096",
                "appId": "ekstep_portal",
                "name": "channel",
                "lastUpdatedOn": "2017-12-20T06:20:55.096+0000",
                "categories": [],
                "defaultFramework": "NCF",
                "status": "Live"
            }
        ],
        "count": 1
    }
}

</pre>
